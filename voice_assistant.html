<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgroGuard Voice Assistant</title>
    <link rel="icon" href="images/logoag.png" type="image/png">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="templates/css/stvoice.css">
</head>
<body class="flex flex-col min-h-screen">
    <!-- Header for Voice Assistant Page -->
    <header class="bg-green-700 text-white shadow-lg p-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center px-4">
            <h1 class="text-3xl font-bold rounded-md py-1 px-3">Voice Assistant</h1>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="dashboard.html" class="hover:text-green-200 transition duration-300">Home</a></li>
                    <li><a href="#" id="backButton" class="hover:text-green-200 transition duration-300">Back</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="flex-grow flex items-center justify-center p-4">
        <div class="container card mx-auto text-center relative bg-gradient-to-r from-green-600 to-lime-500 text-white py-20 md:py-32 overflow-hidden shadow-xl">
            <h1 class="text-4xl md:text-6xl font-extrabold mb-6 animate-pulse">Speak to AgroGuard</h1>
            <p class="text-lg md:text-2xl mb-8 opacity-90 max-w-3xl mx-auto">Click the microphone to speak your query. You can ask about crop diseases, sensor data, marketplace, and more!</p>

            <div class="flex flex-col items-center justify-center mb-8">
                <button id="microphoneButton" class="microphone-button bg-green-500 text-white shadow-lg mb-4 hover:bg-green-600 focus:outline-none focus:ring-4 focus:ring-green-300">
                    <svg class="w-16 h-16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.2-3c0 3.53-2.91 6.4-6.2 6.73V21h-2v-4.27c-3.29-.33-6.2-3.2-6.2-6.73H3c0 4.29 3.53 7.6 8 8.16V21h2v-2.84c4.47-.56 8-3.87 8-8.16h-2z"/>
                    </svg>
                </button>
                <p id="statusMessage" class="text-lg md:text-2xl mb-8 opacity-90 max-w-3xl mx-auto">Click the microphone to start listening.</p>
                <div id="errorMessage" class="message-box hidden"></div>
            </div>

            <!-- Transcribed Text Display -->
            <div class="bg-gray-100 p-6 rounded-lg text-left mb-6 shadow-inner border border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800 mb-2">You Said:</h3>
                <p id="userSpeechText" class="text-gray-700 italic">No speech detected yet...</p>
            </div>

            <!-- AI Response Display -->
            <div class="bg-green-50 p-6 rounded-lg text-left shadow-inner border border-green-200">
                <h3 class="text-xl font-semibold text-green-800 mb-2">AgroGuard Responds:</h3>
                <p id="aiResponseText" class="text-gray-800">Hello! How can I help you today?</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-6 mt-auto">
        <div class="container mx-auto text-center px-4">
            <p class="text-sm">&copy; <span id="current-year"></span> AgroGuard. All rights reserved.</p>
        </div>
    </footer>
    <script src="templates/js/voiceas.js"></script>
</body>
</html>
